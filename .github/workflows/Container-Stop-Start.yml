name: Docker Image CI

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:

  build:

    runs-on: ubuntu-windows-runner

    steps:
    - uses: actions/checkout@v3
    - name: Docker Containers
      run: docker ps
    - name: Docker Container Stop
      run: docker stop RAHS_POC01_ERT
    - name: Docker Containers after STOP
      run: docker ps
    - name: Docker Container Start
      run: docker start RAHS_POC01_ERT
    - name: Docker Containers after START
      run: docker ps
      # notify Microsoft Teams channel with a custom message
    - uses: aliencube/microsoft-teams-actions@v0.8.0
      with:
        webhook_uri: ${{ secrets.MICROSOFT_TEAMS_WEBHOOK_URI }}
        title: This is from GitHub Actions - Edge Runtime stopped and started
        summary: This is a message summary
